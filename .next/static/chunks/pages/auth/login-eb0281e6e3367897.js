(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{7851:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(9611)}])},9358:(e,r,s)=>{"use strict";s.d(r,{x:()=>h,B:()=>x});var n=s(9097),o=s(7665);let i=()=>({queryClient:(0,o.jE)()});var a=s(1145),t=s(4335);let l=new a.A,d=t.A.create({baseURL:"https://wtsacademy.dedicateddevelopers.us/api"});d.interceptors.request.use(function(e){console.log(e,"config");let r=l.get("token");return console.log(r,"token"),r&&(e.headers=e.headers||{},e.headers["x-access-token"]=r),e},function(e){return Promise.reject(e)});let c={auth:{login:"/user/signin",register:"/user/signup",profileDetails:"/user/profile-details"}},u=async e=>{let r=await d.post(c.auth.login,e);return console.log(r,"loginResponse"),r.data},p=async e=>{let r=await d.post(c.auth.register,e);return console.log(r,"registerResponse"),r.data};var m=s(2636),g=s(6715);let h=()=>{let{queryClient:e}=i(),r=new a.A;return(0,n.n)({mutationFn:u,onSuccess:s=>{let{token:n,status:o,message:i}=s||{};200===o&&n&&r.set("token",n,{path:"/",secure:!0}),m.Ay.success("".concat(i)),e.invalidateQueries({queryKey:["USER"]})},onError:(r,s,n)=>{m.Ay.error("".concat((null==r?void 0:r.response.data.message)||(null==r?void 0:r.message))),e.invalidateQueries({queryKey:["USER"]})}})},x=()=>{let{queryClient:e}=i(),r=new a.A,s=(0,g.useRouter)();return(0,n.n)({mutationFn:p,onSuccess:n=>{let{token:o,status:i,message:a}=n||{};200===i&&o?(r.set("token",o,{path:"/",secure:!0}),s.push("/auth/login")):console.log("first"),m.Ay.success("".concat(a)),e.invalidateQueries({queryKey:["USER"]})},onError:(r,s,n)=>{m.Ay.error("".concat((null==r?void 0:r.response.data.msg)||(null==r?void 0:r.message))),console.log(r),console.log(s),console.log(n),e.invalidateQueries({queryKey:["USER"]})}})}},9611:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var n=s(4848),o=s(6540),i=s(6730),a=s.n(i),t=s(2413),l=s(3317),d=s(8590),c=s(2424),u=s(1917),p=s(7330),m=s(1106),g=s.n(m),h=s(4883),x=s(9785),y=s(9358),v=s(1166);let j=()=>{let[e,r]=(0,o.useState)(!1),{register:s,handleSubmit:i,formState:{errors:m}}=(0,x.mN)(),{mutate:j,isPending:w}=(0,y.x)(),f=async e=>{let{email:r,password:s}=e,n=new FormData;n.append("email",r),n.append("password",s),j(e,{onSuccess:()=>{}}),console.log(e)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:a().loginFormWrapper,children:[(0,n.jsx)("div",{className:a().borderRadiusComponent1,children:"\xa0"}),(0,n.jsx)("div",{className:a().borderRadiusComponent2,children:"\xa0"}),(0,n.jsx)("form",{style:{zIndex:"2"},children:(0,n.jsxs)(h.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},className:a().loginFormWrapperChild,style:{backgroundColor:"white"},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(t.A,{variant:"h4",sx:{fontSize:"24px",fontWeight:"bold",margin:"1rem 0rem"},color:"#1976d2",children:"Login"})}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)(t.A,{variant:"body1",sx:{fontSize:"16px"},children:"Email"}),(0,n.jsx)(l.A,{...s("email",{required:"Email is required",pattern:{value:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"Invalid email format"}}),fullWidth:!0,id:"outlined-basic",margin:"normal",variant:"outlined",type:"email",placeholder:"Enter email",sx:{width:"100%"}}),(0,n.jsx)("span",{style:{color:"red"},children:m.email&&"*".concat(m.email.message)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(t.A,{variant:"body1",sx:{fontSize:"16px"},children:"Password"}),(0,n.jsx)(l.A,{...s("password",{required:"Password is required",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$/,message:"Invalid password format"}}),fullWidth:!0,id:"outlined-basic",margin:"normal",variant:"outlined",type:e?"text":"password",placeholder:"Enter password",sx:{width:"100%"},slotProps:{input:{endAdornment:(0,n.jsx)(d.A,{position:"end",children:(0,n.jsx)(c.A,{"aria-label":"toggle password visibility",onClick:()=>{r(!e)},children:e?(0,n.jsx)(v.$_Y,{color:"#000"}):(0,n.jsx)(v.QJN,{color:"#000"})})})}}}),(0,n.jsx)("span",{style:{color:"red"},children:m.password&&"*".concat(m.password.message)})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem 0rem"},children:[(0,n.jsx)(u.A,{variant:"contained",type:"submit",sx:{width:"8rem",borderRadius:"2rem",backgroundColor:"#026EF8",":disabled":{backgroundColor:"#afd3ff"}},disabled:w,onClick:i(f),children:w?(0,n.jsx)(p.A,{color:"inherit",size:20}):"Login"}),(0,n.jsx)(g(),{href:"/auth/updatePassword",children:(0,n.jsx)(t.A,{variant:"body1",sx:{fontSize:"16px",marginTop:"10px",color:"#0270F7",cursor:"pointer"},children:"Forgot Password"})})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,n.jsx)(t.A,{variant:"body1",sx:{fontSize:"16px"},children:"Don't have an account?"}),(0,n.jsx)(g(),{href:"/auth/register",children:(0,n.jsx)(t.A,{variant:"body1",sx:{fontSize:"16px",color:"#0270F7",cursor:"pointer"},children:"Sign Up"})})]})]})})]})})}},6730:e=>{e.exports={loginFormWrapper:"Login_loginFormWrapper__XdXnz",loginFormWrapperChild:"Login_loginFormWrapperChild___j8Qz",borderRadiusComponent1:"Login_borderRadiusComponent1__rjJrX",borderRadiusComponent2:"Login_borderRadiusComponent2__jW7Og",move:"Login_move___nn9Z"}}},e=>{var r=r=>e(e.s=r);e.O(0,[374,636,593,792],()=>r(7851)),_N_E=e.O()}]);